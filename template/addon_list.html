<div class="page" ng-controller="ControllerAddons">
	<div class="wrapper" style="backdrop-filter: brightness(30%); flex-direction: row;">
		
		<table id="addonlist" style="width: 204px; flex-direction: column;">
			<thead style="width: 100%; min-height: 40px;">
				<tr style="margin-top: 0;">
					<td><div class="mc-button" style="width: 64px">
						<p>Off</p>
					</div></td>
					<td><div class="mc-button" style="width: 64px">
						<p>A-Z</p>
					</div></td>
					<td><div class="mc-button" style="width: 64px">
						<p>Z-A</p>
					</div></td>
				</tr>
			</thead>
			<tbody style="height: 100%; display: flex; flex-direction: column;">
				<tr style="height: inherit;">
					<td style="height: 100%">
						<workshopcontainer>
							<workshopmessage ng-show="Loading" ng-Tranny="'addons.loading'">...</workshopmessage>
							<workshopmessage ng-show="( TotalResults == 0 || NumResults == 0 ) && !Loading && ( !Disabled || Category != 'subscribed' )" ng-Tranny="'addons.none'">...</workshopmessage>
							<workshopmessage ng-show="TotalResults == 0 && !Loading && Disabled && Category == 'subscribed'" ng-Tranny="'addons.disabled'">...</workshopmessage>
				
							<workshopicon ng-hide="Loading" ng-repeat="file in Files" class="{{GetAddonClasses( file )}}">
				
								<!--<preview style="width: {{IconMax|number:0}}px; height: {{IconMax|number:0}}px; margin-left: -{{IconMax*0.5|number:0}}px; margin-top: -{{IconMax*0.5|number:0}}px">
									<img src='../{{file.background || "img/downloading.png"}}' style="width: {{IconMax|number:0}}px; height: {{IconMax|number:0}}px;"/>
									<disabled></disabled>
								</preview>-->
				
								<name class="{{IfElse( Category == 'subscribed', 'subscription', '' )}}">
									<label ng-click="OpenWorkshopFile( file.id )">{{file.extra.title || file.info.title || "Loading..."}}</label>
								</name>
								<author ng-hide="file.local">{{file.info.ownername || "Loading..."}}</author>
								<size ng-hide="!file.info.size">{{GetNiceSize( file.info.size )}}</size>
								<votes ng-show="!file.local && (file.info.up-file.info.down) > 0" >+{{file.info.up-file.info.down|number:0}}</votes>
								<votes ng-show="!file.local && (file.info.up-file.info.down) < 0" class="negative">{{file.info.up-file.info.down|number:0}}</votes>
								<description>{{GetAddonDescription( file )}}</description>
								<input type="checkbox" class="checkbox" ng-show="(Category == 'subscribed') && !file.info.floating" ng-model="SelectedItems[ file.id ]" />
				
								<controls ng-show="!file.info.floating">
									<left>
										<control ng-hide="file.local || file.rated" ng-click="Rate( file, true )"><img src='img/thumb-up.png' /></control>
										<control ng-hide="file.local || file.rated" ng-click="Rate( file, false )"><img src='img/thumb-down.png' /></control>
										<control ng-show="file.local" ng-click="PublishLocal( file )" ng-Tranny="'demos.publish'">..</control>
										<control ng-show="file.local" ng-click="DeleteLocal( file )" ng-Tranny="'demos.delete'">..</control>
									</left>
				
									<right>
										<control ng-show="IsSubscribed( file ) && IsEnabled( file )" ng-click="Disable( file )" ng-Tranny="'addon.disable'">..</control>
										<control ng-show="IsSubscribed( file ) && !IsEnabled( file )" ng-click="Enable( file )" ng-Tranny="'addon.enable'">..</control>
				
										<control ng-hide="IsSubscribed( file )" ng-click="Subscribe( file )" ng-Tranny="'addon.subscribe'">..</control>
										<control ng-show="IsSubscribed( file )" ng-click="Unsubscribe( file )" ng-Tranny="'addon.unsubscribe'">..</control>
									</right>
								</controls>
				
							</workshopicon>
						</workshopcontainer>
					</td>
				</tr>
				<tr class="addontabmenu">
					<td style="flex-direction: column; height: 100%;">
						<p style="width: 100%; text-align: center;">Search</p>
						<input type="text" style="width: 200px; height: 32px;">
					</td>
					<td><div class="mc-button" style="width: 204px"><p>Settings</p></div></td>
					<td><div class="mc-button" style="width: 204px"><p>Exit</p></div></td>
				</tr>
			</tbody>
		</table>
	
		<div class="addondescription">
			<div class="addoninfo">

			</div>
			<div class="addontools">
				<div class="mc-button" style="width: 400px;"><p>Done</p></div>
			</div>
		</div>
		
	</div>


	<div class="modaldialog" ng-show="PopupMessageDisplayed">
		<div class="centermessage">
			<span ng-tranny="'addons.warning'"></span>
			<span ng-tranny="PopupMessageDisplayedMessage"></span>
			<span ng-tranny="'addons.cannotundo'" ng-show="PopupMessageDisplayedMessage == 'addons.uninstallall.warning' || PopupMessageDisplayedMessage == 'addons.uninstall_selected.warning'"></span>

			<div style="margin-bottom: 5px;">
				<div ng-repeat="fileid in PopupMessageFiles" class="button {{IfElse( IsSubscribedID( fileid ), 'subbed', '' )}}">
					<wstitle ng-click="OpenWorkshopFile( fileid )" id="wsid{{fileid}}" class="wstitle">{{fileid}}</wstitle>
					<wsbut ng-show="IsSubscribedID( fileid )" class="wssub"><img src="img/tick.png"/></wsbut>
					<wsbut ng-hide="IsSubscribedID( fileid )" onclick="subscriptions.Subscribe( {{fileid}} );" class="wssub"><img src="img/plus.png"></img></wsbut>
				</div>
			</div>

			<a ng-click="ExecutePopupFunction()" ng-tranny="'addons.confirm'" class="{{IfElse( PopupMessageFiles.length > 0, 'create', 'warning' )}} big"></a>
			<a ng-click="ClosePopupMessage()" ng-tranny="'addons.cancel'"></a>
		</div>
	</div>

	<div class="modaldialog" ng-show="CreatePresetOpen">
		<div class="centermessage left create_preset">
			<b ng-tranny="'addons.create_preset'"></b>
			<br/><br/>

			<input type="text" class="preset_name" ng-tranny="'addons.preset_name_placeholder'" ng-model="CreatePresetName"/><br/>
			<br/>

			<input type="checkbox" ng-model="CreatePresetSaveEnabled"/><label ng-tranny="'addons.preset_save_enabled'"></label><br/>
			<input type="checkbox" ng-model="CreatePresetSaveDisabled"/><label ng-tranny="'addons.preset_save_disabled'"></label><br/>
			<br/>

			<b ng-Tranny="'addons.preset_new_action'"></b><br/>
			<input type="radio" name=createpreset_newitems" value="" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_nothing'"></label><br/>
			<input type="radio" name=createpreset_newitems" value="disable" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_disable'"></label><br/>
			<input type="radio" name=createpreset_newitems" value="enable" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_enable'"></label><br/>
			<br/>

			<a ng-click="CreateNewPreset()" ng-tranny="'addons.create_preset'" class="create big"></a>
			<a ng-click="ClosePopupMessage()" ng-tranny="'addons.cancel'"></a>
		</div>
	</div>

	<div class="modaldialog" ng-show="LoadPresetMenuOpen">
		<div class="centermessage left">
			<b ng-tranny="'addons.load_preset'"></b>
			<br/><br/>

			<div class="preset_content"><div class="preset_list">
					<font ng-repeat="file in PresetList" ng-click="SelectPreset( file.name, file.newAction );" class="{{IfElse( file.name == SelectedPreset, 'active', '' )}}">{{file.name}}</font>
				</div><!--Space/newline here fucks with alignment, thanks HTML
			 --><div class="preset_data" ng-show="SelectedPreset">
					<b ng-Tranny="'addons.preset_name'"></b> {{PresetList[ SelectedPreset ].name}}<br>
					<b ng-Tranny="'addons.preset_enabled'"></b> {{PresetList[ SelectedPreset ].enabled.length}}<br>
					<b ng-Tranny="'addons.preset_disabled'"></b> {{PresetList[ SelectedPreset ].disabled.length}}<br>
					<input type="checkbox" ng-model="LoadPresetResub"/><label ng-tranny="'addons.preset_resub_missing'"></label><br/>

					<br><b ng-Tranny="'addons.preset_new_action'"></b><br>
					<input type="radio" name=loadpreset_newitems" value="" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_nothing'"></label><br/>
					<input type="radio" name=loadpreset_newitems" value="disable" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_disable'"></label><br/>
					<input type="radio" name=loadpreset_newitems" value="enable" ng-model="CreatePresetNew"/><label ng-tranny="'addons.action_enable'"></label><br/>

					<br>
					<a ng-click="LoadSelectedPreset()" ng-tranny="'addons.load_preset'" class="create"></a>
					<a ng-click="DeletePreset( SelectedPreset );" ng-tranny="'addons.delete_preset'" class="warning"></a>
				</div>
			</div><!--Space/newline here fucks with alignment, thanks HTML
		 --><a ng-click="ClosePopupMessage()" ng-tranny="'addons.cancel'"></a></div>
	</div>
</div>